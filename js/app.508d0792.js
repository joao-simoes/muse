(function(){var t={2715:function(t,e,n){var r={"./btt_spotify.png":2402,"./logo_round.png":7723,"./logo_round_text.png":9517,"./logo_text.png":8044};function a(t){var e=l(t);return n(e)}function l(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=l,t.exports=a,a.id=2715},1375:function(t,e,n){"use strict";var r=n(9963),a=n(6252);const l={class:"container-fluid"};function o(t,e,n,r,o,i){const s=(0,a.up)("router-view"),c=(0,a.up)("n-loading-bar-provider"),u=(0,a.up)("n-config-provider");return(0,a.wg)(),(0,a.j4)(u,{theme:r.darkTheme},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a._)("div",l,[(0,a.Wm)(s)])])),_:1})])),_:1},8,["theme"])}var i=n(1649),s=n(5892),c=n(6081),u={components:{NLoadingBarProvider:i.Z,NConfigProvider:s.Z},setup(){return{darkTheme:c.$}}},m=n(3744);const d=(0,m.Z)(u,[["render",o]]);var p=d,g=n(2201);const f=t=>((0,a.dD)("data-v-7847933c"),t=t(),(0,a.Cn)(),t),v=f((()=>(0,a._)("div",{id:"parallax"},null,-1))),h={class:"position-fixed w-100 text-center top-50 translate-middle-y"},_=f((()=>(0,a._)("h1",null,"MUSE.",-1))),w=f((()=>(0,a._)("h3",null,"WHAT AM I UP TO?",-1))),k={href:"http://127.0.0.1:3100/login",class:"m-auto"},y=["src"];function b(t,e,r,l,o,i){const s=(0,a.up)("TopHeader");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s,{imgSrc:"logo_round",class:"position-fixed top-0 start-0 vw-100"}),v,(0,a._)("div",h,[_,w,(0,a._)("a",k,[(0,a._)("img",{class:"bttLogin mt-3",src:n(2402),alt:"Login with Spotify"},null,8,y)])])],64)}const S=["src"];function A(t,e,r,l,o,i){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("img",{class:"logo ms-5 mt-4",src:n(2715)("./"+r.imgSrc+".png")},null,8,S)])}var N={name:"TopHeader",props:{imgSrc:String}};const x=(0,m.Z)(N,[["render",A],["__scopeId","data-v-84540898"]]);var P=x,D={name:"HomeView",components:{TopHeader:P},mounted(){(function(){document.addEventListener("mousemove",e);const t=document.querySelector("#parallax");function e(e){let n=window.innerWidth/2,r=window.innerHeight/2,a=e.clientX,l=e.clientY,o=`${20-.01*(a-n)}% ${20-.01*(l-r)}%`,i=`${20-.01*(a-n)}% ${20-.01*(l-r)}%`,s=`${20-.05*(a-n)}% ${20-.01*(l-r)}%`,c=`${o}, ${i}, ${s}`;t.style.backgroundPosition=c}})()}};const C=(0,m.Z)(D,[["render",b],["__scopeId","data-v-7847933c"]]);var T=C,I=n(3577);const z=t=>((0,a.dD)("data-v-4c2cc8da"),t=t(),(0,a.Cn)(),t),j=z((()=>(0,a._)("div",{class:"bg"},null,-1))),O={class:"header"},Z={class:"container position-relative"},U={class:"dashboard text-center"},W=z((()=>(0,a._)("h2",null,[(0,a.Uk)("I'm curious about my top "),(0,a._)("input",{class:"text-center",placeholder:"10",type:"text",name:"amount",id:"amount",size:"2",maxlength:"2"}),(0,a.Uk)(" most listened "),(0,a._)("select",{id:"type"},[(0,a._)("option",{value:"artists"},"artists"),(0,a._)("option",{value:"tracks"},"tracks")]),(0,a.Uk)(" ! ")],-1))),H={key:0,class:"mt-5"},$={class:"row"};function B(t,e,n,r,l,o){const i=(0,a.up)("NowPlayingCard"),s=(0,a.up)("UserHeader"),c=(0,a.up)("n-button"),u=(0,a.up)("n-divider"),m=(0,a.up)("ArtistCard"),d=(0,a.up)("TrackCard");return(0,a.wg)(),(0,a.iD)(a.HY,null,[j,(0,a.Wm)(i,{class:"NowPlayingCard",isPlaying:l.isPlaying,trackName:l.trackName,trackAlbum:l.trackAlbum,trackImg:l.trackImg,trackArtist:l.trackArtist},null,8,["isPlaying","trackName","trackAlbum","trackImg","trackArtist"]),(0,a._)("div",O,[(0,a.Wm)(s,{imgSrc:"logo_text",imgAvatar:l.imgAvatar,username:l.username,email:l.email,followers:l.followers},null,8,["imgAvatar","username","email","followers"])]),(0,a._)("div",Z,[(0,a._)("div",U,[W,(0,a.Wm)(c,{secondary:"",round:"",size:"large",class:"mt-3",onClick:o.fetchUserTop},{default:(0,a.w5)((()=>[(0,a.Uk)(" Search ")])),_:1},8,["onClick"])]),l.top.length>0?((0,a.wg)(),(0,a.iD)("div",H,[(0,a.Wm)(u,{"title-placement":"left"},{default:(0,a.w5)((()=>[(0,a._)("h3",null,"Top "+(0,I.zw)(l.top.length),1)])),_:1}),(0,a._)("div",$,["artists"==l.type?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(l.top,(t=>((0,a.wg)(),(0,a.j4)(m,{class:"col-12 col-md-6 col-lg-4 my-2",name:t.name,genres:t.genres,popularity:t.popularity,rank:l.top.indexOf(t)+1,imgSrc:t.images[0].url,followers:t.followers.total},null,8,["name","genres","popularity","rank","imgSrc","followers"])))),256)):(0,a.kq)("",!0),"tracks"==l.type?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(l.top,(e=>((0,a.wg)(),(0,a.j4)(d,{class:"col-12 col-md-6 col-lg-4 my-2",name:e.name,releaseDate:e.album.release_date,artist:e.artists[0].name,album:e.album.name,rank:l.top.indexOf(t.artist)+1,imgSrc:e.album.images[0].url},null,8,["name","releaseDate","artist","album","rank","imgSrc"])))),256)):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)])],64)}const E={class:"d-flex justify-content-between mt-4 align-items-center"},q=["src"],Y={styles:"width: 25%;",class:"d-flex align-items-center me-5"},L={class:"text-end me-2"};function M(t,e,r,l,o,i){const s=(0,a.up)("n-avatar"),c=(0,a.up)("n-badge");return(0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("div",null,[(0,a._)("img",{class:"logo ms-5",src:n(2715)("./"+r.imgSrc+".png")},null,8,q)]),(0,a._)("div",Y,[(0,a._)("div",L,[(0,a._)("h5",null,(0,I.zw)(r.username),1),(0,a._)("h6",null,(0,I.zw)(r.email),1)]),(0,a.Wm)(c,{value:r.followers},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{round:"",size:64,src:r.imgAvatar,"object-fit":"cover"},null,8,["src"])])),_:1},8,["value"])])])}var G=n(4323),R=n(1930),K={name:"UserHeader",components:{NAvatar:G.Z,NBadge:R.Z},props:{imgSrc:String,imgAvatar:String,username:String,email:String,followers:String}};const F=(0,m.Z)(K,[["render",M],["__scopeId","data-v-0da0e030"]]);var V=F;const X=t=>((0,a.dD)("data-v-575162ae"),t=t(),(0,a.Cn)(),t),J={class:"d-flex justify-content-between"},Q=["src","alt"],tt={key:0,style:{color:"gold"}},et={key:1,style:{color:"silver"}},nt={key:2,style:{color:"brown"}},rt=X((()=>(0,a._)("br",null,null,-1)));function at(t,e,n,r,l,o){const i=(0,a.up)("n-card");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(i,{title:n.name,size:"small"},{default:(0,a.w5)((()=>[(0,a._)("div",J,[(0,a._)("div",null,[(0,a._)("img",{src:n.imgSrc,alt:n.name},null,8,Q)]),(0,a._)("div",null,[1==n.rank?((0,a.wg)(),(0,a.iD)("h5",tt,"1st Place")):(0,a.kq)("",!0),2==n.rank?((0,a.wg)(),(0,a.iD)("h5",et,"2nd Place")):(0,a.kq)("",!0),3==n.rank?((0,a.wg)(),(0,a.iD)("h5",nt,"3rd Place")):(0,a.kq)("",!0),rt,(0,a._)("p",null,(0,I.zw)(n.genres[0]),1),(0,a._)("p",null,(0,I.zw)(n.followers)+" followers",1)])])])),_:1},8,["title"])])}var lt=n(8783),ot=n(8408),it={name:"ArtistCard",components:{NCard:lt.ZP,NRate:ot.Z},props:{name:String,rank:Number,imgSrc:String,popularity:Number,url:String,genres:Array,followers:Number}};const st=(0,m.Z)(it,[["render",at],["__scopeId","data-v-575162ae"]]);var ct=st;const ut={class:"row"},mt={class:"col-12 col-md-4"},dt=["src","alt"],pt={class:"col-12 col-md-8 mt-2"},gt={class:"mt-4"};function ft(t,e,n,r,l,o){const i=(0,a.up)("n-card");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(i,{title:n.name,size:"small"},{default:(0,a.w5)((()=>[(0,a._)("div",ut,[(0,a._)("div",mt,[(0,a._)("img",{src:n.imgSrc,alt:n.name},null,8,dt)]),(0,a._)("div",pt,[(0,a._)("p",null,(0,I.zw)(n.artist),1),(0,a._)("p",null,(0,I.zw)(n.album),1),(0,a._)("p",gt," Release Date: "+(0,I.zw)(n.releaseDate),1)])])])),_:1},8,["title"])])}var vt={name:"TrackCard",components:{NCard:lt.ZP},props:{name:String,rank:Number,artist:String,imgSrc:String,url:String,releaseDate:String,album:String}};const ht=(0,m.Z)(vt,[["render",ft],["__scopeId","data-v-091dbe76"]]);var _t=ht;const wt=t=>((0,a.dD)("data-v-2f664992"),t=t(),(0,a.Cn)(),t),kt={key:0,class:"d-flex align-items-center"},yt=["src","alt"],bt={class:"ms-3"},St={key:1},At=wt((()=>(0,a._)("p",null,"NOT PLAYING ANY TRACKS!",-1))),Nt=[At];function xt(t,e,n,r,l,o){const i=(0,a.up)("n-card");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(i,{title:"Now Playing",size:"small"},{default:(0,a.w5)((()=>["true"==n.isPlaying?((0,a.wg)(),(0,a.iD)("div",kt,[(0,a._)("img",{class:"rotating",src:n.trackImg,alt:n.trackName},null,8,yt),(0,a._)("div",bt,[(0,a._)("p",null,[(0,a._)("b",null,(0,I.zw)(n.trackName),1),(0,a.Uk)(" from "),(0,a._)("b",null,(0,I.zw)(n.trackAlbum),1)]),(0,a._)("p",null,[(0,a.Uk)("By "),(0,a._)("b",null,(0,I.zw)(n.trackArtist),1)])])])):((0,a.wg)(),(0,a.iD)("div",St,Nt))])),_:1})])}var Pt={name:"NowPlayingCard",components:{NCard:lt.ZP,NRate:ot.Z},props:{isPlaying:Boolean,trackName:String,trackAlbum:String,trackImg:String,trackArtist:String}};const Dt=(0,m.Z)(Pt,[["render",xt],["__scopeId","data-v-2f664992"]]);var Ct=Dt,Tt=n(3633),It=n(8888),zt={name:"DashboardView",data(){return{imgAvatar:null,username:null,email:null,followers:null,top:[],isPlaying:"false",trackName:null,trackAlbum:null,trackImg:null,trackArtist:null,type:null}},components:{UserHeader:V,ArtistCard:ct,TrackCard:_t,NowPlayingCard:Ct,NButton:Tt.ZP,NDivider:It.Z},methods:{fetchUserTop(){let t=document.getElementById("amount").value;this.type=document.getElementById("type").value,fetch(`https://api.spotify.com/v1/me/top/${this.type}?limit=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((async t=>{let e=await t.json();this.top=e.items}))},fetchUserPlayback(){fetch("https://api.spotify.com/v1/me/player/currently-playing",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((async t=>{let e;try{e=await t.json(),this.isPlaying="true",this.trackArtist=e.item.album.artists[0].name,this.trackAlbum=e.item.album.name,this.trackName=e.item.name,this.trackImg=e.item.album.images[0].url}catch(n){console.log(n),this.isPlaying="false"}setTimeout(this.fetchUserPlayback(),5e5)}))}},beforeMount(){localStorage.setItem("access_token",this.$route.query.access_token),this.fetchUserPlayback(),fetch("https://api.spotify.com/v1/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((async t=>{let e=await t.json();this.imgAvatar=e.images[0].url,this.email=e.email,this.username=e.display_name,this.followers=e.followers.total+" followers"}))}};const jt=(0,m.Z)(zt,[["render",B],["__scopeId","data-v-4c2cc8da"]]);var Ot=jt;const Zt=[{path:"/",name:"home",component:T},{path:"/dashboard",name:"dashboard",component:Ot}],Ut=(0,g.p7)({history:(0,g.r5)(),routes:Zt});var Wt=Ut,Ht=n(3907),$t=(0,Ht.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,r.ri)(p).use($t).use(Wt).mount("#app")},2402:function(t,e,n){"use strict";t.exports=n.p+"img/btt_spotify.6af7bb0a.png"},7723:function(t,e,n){"use strict";t.exports=n.p+"img/logo_round.2ef6487e.png"},9517:function(t,e,n){"use strict";t.exports=n.p+"img/logo_round_text.2eeb3bde.png"},8044:function(t,e,n){"use strict";t.exports=n.p+"img/logo_text.b0671b2c.png"}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var l=e[r]={exports:{}};return t[r](l,l.exports,n),l.exports}n.m=t,function(){var t=[];n.O=function(e,r,a,l){if(!r){var o=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],l=t[u][2];for(var i=!0,s=0;s<r.length;s++)(!1&l||o>=l)&&Object.keys(n.O).every((function(t){return n.O[t](r[s])}))?r.splice(s--,1):(i=!1,l<o&&(o=l));if(i){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}l=l||0;for(var u=t.length;u>0&&t[u-1][2]>l;u--)t[u]=t[u-1];t[u]=[r,a,l]}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,l,o=r[0],i=r[1],s=r[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(s)var u=s(n)}for(e&&e(r);c<o.length;c++)l=o[c],n.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return n.O(u)},r=self["webpackChunkmuse"]=self["webpackChunkmuse"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(1375)}));r=n.O(r)})();
//# sourceMappingURL=app.508d0792.js.map