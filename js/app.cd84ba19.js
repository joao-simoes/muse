(function(){var t={2715:function(t,e,n){var r={"./btt_spotify.png":2402,"./logo_round.png":7723,"./logo_round_text.png":9517,"./logo_text.png":8044};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id=2715},1099:function(t,e,n){"use strict";var r=n(9963),a=n(6252);const o={class:"container-fluid"};function i(t,e,n,r,i,l){const s=(0,a.up)("router-view"),c=(0,a.up)("n-loading-bar-provider"),u=(0,a.up)("n-config-provider");return(0,a.wg)(),(0,a.j4)(u,{theme:r.darkTheme},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a.Wm)(s)])])),_:1})])),_:1},8,["theme"])}var l=n(1649),s=n(5892),c=n(6081),u={components:{NLoadingBarProvider:l.Z,NConfigProvider:s.Z},setup(){return{darkTheme:c.$}}},m=n(3744);const d=(0,m.Z)(u,[["render",i]]);var p=d,g=n(2201);const f=t=>((0,a.dD)("data-v-0c767f98"),t=t(),(0,a.Cn)(),t),v=f((()=>(0,a._)("div",{id:"parallax"},null,-1))),h={class:"position-fixed w-100 text-center top-50 translate-middle-y"},_=f((()=>(0,a._)("h1",null,"MUSE.",-1))),w=f((()=>(0,a._)("h3",null,"WHAT AM I UP TO?",-1))),y={href:"http://127.0.0.1:3100/login"},k=["src"];function b(t,e,r,o,i,l){const s=(0,a.up)("TopHeader");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s,{imgSrc:"logo_round",class:"position-fixed top-0 start-0 vw-100"}),v,(0,a._)("div",h,[_,w,(0,a._)("a",y,[(0,a._)("img",{class:"bttLogin mt-3",src:n(2402),alt:"Login with Spotify"},null,8,k)])])],64)}const A=["src"];function S(t,e,r,o,i,l){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("img",{class:"logo ms-5 mt-4",src:n(2715)("./"+r.imgSrc+".png")},null,8,A)])}var N={name:"TopHeader",props:{imgSrc:String}};const x=(0,m.Z)(N,[["render",S],["__scopeId","data-v-84540898"]]);var P=x,T={name:"HomeView",components:{TopHeader:P},mounted(){(function(){document.addEventListener("mousemove",e);const t=document.querySelector("#parallax");function e(e){let n=window.innerWidth/2,r=window.innerHeight/2,a=e.clientX,o=e.clientY,i=`${20-.01*(a-n)}% ${20-.01*(o-r)}%`,l=`${20-.01*(a-n)}% ${20-.01*(o-r)}%`,s=`${20-.05*(a-n)}% ${20-.01*(o-r)}%`,c=`${i}, ${l}, ${s}`;t.style.backgroundPosition=c}})()}};const C=(0,m.Z)(T,[["render",b],["__scopeId","data-v-0c767f98"]]);var I=C,j=n(3577);const O=t=>((0,a.dD)("data-v-d02a1b88"),t=t(),(0,a.Cn)(),t),U=O((()=>(0,a._)("div",{class:"bg"},null,-1))),D={class:"header"},Z={class:"container position-relative"},z={class:"dashboard text-center"},W=O((()=>(0,a._)("h2",null,[(0,a.Uk)("I'm curious about my top "),(0,a._)("input",{class:"text-center",placeholder:"10",type:"text",name:"amount",id:"amount",size:"2",maxlength:"2"}),(0,a.Uk)(" most listened "),(0,a._)("select",{id:"type"},[(0,a._)("option",{value:"artists"},"artists"),(0,a._)("option",{value:"tracks"},"tracks")]),(0,a.Uk)(" ! ")],-1))),$={key:0,class:"mt-5"},H={class:"row"};function B(t,e,n,r,o,i){const l=(0,a.up)("NowPlayingCard"),s=(0,a.up)("UserHeader"),c=(0,a.up)("n-button"),u=(0,a.up)("n-divider"),m=(0,a.up)("ArtistCard");return(0,a.wg)(),(0,a.iD)(a.HY,null,[U,(0,a.Wm)(l,{class:"NowPlayingCard",isPlaying:o.isPlaying,trackName:o.trackName,trackAlbum:o.trackAlbum,trackImg:o.trackImg,trackArtist:o.trackArtist},null,8,["isPlaying","trackName","trackAlbum","trackImg","trackArtist"]),(0,a._)("div",D,[(0,a.Wm)(s,{imgSrc:"logo_text",imgAvatar:o.imgAvatar,username:o.username,email:o.email,followers:o.followers},null,8,["imgAvatar","username","email","followers"])]),(0,a._)("div",Z,[(0,a._)("div",z,[W,(0,a.Wm)(c,{secondary:"",round:"",size:"large",class:"mt-3",onClick:i.fetchUserTop},{default:(0,a.w5)((()=>[(0,a.Uk)(" Search ")])),_:1},8,["onClick"])]),o.top.length>0?((0,a.wg)(),(0,a.iD)("div",$,[(0,a.Wm)(u,{"title-placement":"left"},{default:(0,a.w5)((()=>[(0,a._)("h3",null,"Top "+(0,j.zw)(o.top.length),1)])),_:1}),(0,a._)("div",H,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.top,(t=>((0,a.wg)(),(0,a.j4)(m,{class:"col-sm-4 my-2",name:t.name,genres:t.genres,popularity:t.popularity,rank:o.top.indexOf(t)+1,imgSrc:t.images[0].url,followers:t.followers.total},null,8,["name","genres","popularity","rank","imgSrc","followers"])))),256))])])):(0,a.kq)("",!0)])],64)}const E={class:"d-flex justify-content-between mt-4 align-items-center"},L=["src"],Y={styles:"width: 25%;",class:"d-flex align-items-center me-5"},M={class:"text-end me-2"};function G(t,e,r,o,i,l){const s=(0,a.up)("n-avatar"),c=(0,a.up)("n-badge");return(0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("div",null,[(0,a._)("img",{class:"logo ms-5",src:n(2715)("./"+r.imgSrc+".png")},null,8,L)]),(0,a._)("div",Y,[(0,a._)("div",M,[(0,a._)("h5",null,(0,j.zw)(r.username),1),(0,a._)("h6",null,(0,j.zw)(r.email),1)]),(0,a.Wm)(c,{value:r.followers},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{round:"",size:64,src:r.imgAvatar,"object-fit":"cover"},null,8,["src"])])),_:1},8,["value"])])])}var q=n(4323),R=n(1930),F={name:"UserHeader",components:{NAvatar:q.Z,NBadge:R.Z},props:{imgSrc:String,imgAvatar:String,username:String,email:String,followers:String}};const K=(0,m.Z)(F,[["render",G],["__scopeId","data-v-0da0e030"]]);var V=K;const X={class:"d-flex justify-content-between"},J=["src","alt"];function Q(t,e,n,r,o,i){const l=(0,a.up)("n-rate"),s=(0,a.up)("n-card");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(s,{title:n.name,size:"small"},{default:(0,a.w5)((()=>[(0,a._)("div",X,[(0,a._)("div",null,[(0,a._)("img",{src:n.imgSrc,alt:n.name},null,8,J)]),(0,a._)("div",null,[(0,a._)("p",null,(0,j.zw)(n.genres[0]),1),(0,a._)("p",null,(0,j.zw)(n.followers)+" followers",1),(0,a.Wm)(l,{id:n.name},null,8,["id"])])])])),_:1},8,["title"])])}var tt=n(8783),et=n(8408),nt={name:"ArtistCard",components:{NCard:tt.ZP,NRate:et.Z},props:{name:String,rank:Number,imgSrc:String,popularity:Number,url:String,genres:Array,followers:Number}};const rt=(0,m.Z)(nt,[["render",Q],["__scopeId","data-v-35c1c2e0"]]);var at=rt;const ot=t=>((0,a.dD)("data-v-c00bfbf6"),t=t(),(0,a.Cn)(),t),it={key:0,class:"d-flex align-items-center"},lt=["src","alt"],st={class:"ms-3"},ct={key:1},ut=ot((()=>(0,a._)("p",null,"NOT PLAYING ANY TRACKS!",-1))),mt=[ut];function dt(t,e,n,r,o,i){const l=(0,a.up)("n-card");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l,{title:"Now Playing",size:"small"},{default:(0,a.w5)((()=>["true"==n.isPlaying?((0,a.wg)(),(0,a.iD)("div",it,[(0,a._)("img",{class:"rotating",src:n.trackImg,alt:n.trackName},null,8,lt),(0,a._)("div",st,[(0,a._)("p",null,[(0,a._)("b",null,(0,j.zw)(n.trackName),1),(0,a.Uk)(" from "),(0,a._)("b",null,(0,j.zw)(n.trackAlbum),1)]),(0,a._)("p",null,[(0,a.Uk)("By "),(0,a._)("b",null,(0,j.zw)(n.trackArtist),1)])])])):((0,a.wg)(),(0,a.iD)("div",ct,mt))])),_:1})])}var pt={name:"NowPlayingCard",components:{NCard:tt.ZP,NRate:et.Z},props:{isPlaying:Boolean,trackName:String,trackAlbum:String,trackImg:String,trackArtist:String}};const gt=(0,m.Z)(pt,[["render",dt],["__scopeId","data-v-c00bfbf6"]]);var ft=gt,vt=n(3633),ht=n(8888),_t={name:"DashboardView",data(){return{imgAvatar:null,username:null,email:null,followers:null,top:[],isPlaying:"false",trackName:null,trackAlbum:null,trackImg:null,trackArtist:null}},components:{UserHeader:V,ArtistCard:at,NowPlayingCard:ft,NButton:vt.ZP,NDivider:ht.Z},methods:{fetchUserTop(){let t=document.getElementById("amount").value,e=document.getElementById("type").value;fetch(`https://api.spotify.com/v1/me/top/${e}?limit=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((async t=>{let e=await t.json();this.top=e.items}))},fetchUserPlayback(){fetch("https://api.spotify.com/v1/me/player/currently-playing",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((async t=>{let e;try{e=await t.json(),this.isPlaying="true",this.trackArtist=e.item.album.artists[0].name,this.trackAlbum=e.item.album.name,this.trackName=e.item.name,this.trackImg=e.item.album.images[0].url}catch(n){console.log(n),this.isPlaying="false"}setTimeout(this.fetchUserPlayback(),5e5)}))}},beforeMount(){localStorage.setItem("access_token",this.$route.query.access_token),this.fetchUserPlayback(),fetch("https://api.spotify.com/v1/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}}).then((async t=>{let e=await t.json();this.imgAvatar=e.images[0].url,this.email=e.email,this.username=e.display_name,this.followers=e.followers.total+" followers"}))}};const wt=(0,m.Z)(_t,[["render",B],["__scopeId","data-v-d02a1b88"]]);var yt=wt;const kt=[{path:"/",name:"home",component:I},{path:"/dashboard",name:"dashboard",component:yt}],bt=(0,g.p7)({history:(0,g.r5)(),routes:kt});var At=bt,St=n(3907),Nt=(0,St.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,r.ri)(p).use(Nt).use(At).mount("#app")},2402:function(t,e,n){"use strict";t.exports=n.p+"img/btt_spotify.6af7bb0a.png"},7723:function(t,e,n){"use strict";t.exports=n.p+"img/logo_round.2ef6487e.png"},9517:function(t,e,n){"use strict";t.exports=n.p+"img/logo_round_text.2eeb3bde.png"},8044:function(t,e,n){"use strict";t.exports=n.p+"img/logo_text.b0671b2c.png"}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,r,a,o){if(!r){var i=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],o=t[u][2];for(var l=!0,s=0;s<r.length;s++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](r[s])}))?r.splice(s--,1):(l=!1,o<i&&(i=o));if(l){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[r,a,o]}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,o,i=r[0],l=r[1],s=r[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var u=s(n)}for(e&&e(r);c<i.length;c++)o=i[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},r=self["webpackChunkmuse"]=self["webpackChunkmuse"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(1099)}));r=n.O(r)})();
//# sourceMappingURL=app.cd84ba19.js.map